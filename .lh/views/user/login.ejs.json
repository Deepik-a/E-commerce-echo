{
    "sourceFile": "views/user/login.ejs",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1736827928602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1736827928602,
            "name": "Commit-0",
            "content": "<%- include('navbar') %>\r\n<title>Login</title>\r\n    <!-- Include SweetAlert CSS -->\r\n    <script src=\"https://cdn.jsdelivr.net/npm/sweetalert2@11\"></script>\r\n\r\n\r\n\r\n<!-- SweetAlert message for displaying login alerts -->\r\n<% if (typeof alertMessage !== 'undefined' && alertMessage !== '') { %>\r\n    <script>\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: '<%= alertMessage %>',\r\n        });\r\n    </script>\r\n<% } %>\r\n\r\n\r\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\" rel=\"stylesheet\">\r\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css\" rel=\"stylesheet\">\r\n    <!DOCTYPE html>\r\n    <html lang=\"en\">\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <link href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n        <link href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\" rel=\"stylesheet\">\r\n        <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css\" rel=\"stylesheet\">\r\n        <style>\r\n            .login-container {\r\n                display: flex;\r\n                align-items: center;\r\n                background-image: url('../../uploads/pexels-muhammad-khairul-iddin-adnan-267454-808510\\ \\(1\\).jpg');\r\n                background-position: center;\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    box-sizing: border-box;\r\n            }\r\n    \r\n            .image-wrapper {\r\n                height: 100%;\r\n            }\r\n    \r\n            .image-wrapper img {\r\n                width: 100%;\r\n                height: 100%;\r\n                object-fit: cover;\r\n              \r\n            }\r\n    \r\n            .form-control:focus {\r\n                border-color: #508d4e;\r\n                box-shadow: 0 0 0 0.25rem rgba(80, 141, 78, 0.25);\r\n            }\r\n    \r\n            .login-card {\r\n                background: rgba(255, 255, 255, 0.95);\r\n        \r\n                box-shadow: 0 0 20px rgba(0,0,0,0.1);\r\n                padding: 2rem;\r\n                height: 100%;\r\n            }\r\n    \r\n            .equal-height-row {\r\n                display: flex;\r\n                align-items: stretch;\r\n                min-height: 600px;\r\n            }\r\n    \r\n            .equal-height-col {\r\n                display: flex;\r\n                flex-direction: column;\r\n            }\r\n    \r\n            .btn-custom {\r\n                background-color: #1A5319;\r\n                color: white;\r\n                transition: all 0.3s ease;\r\n            }\r\n    \r\n            .btn-custom:hover {\r\n                background-color: #1A5319;\r\n                color: aliceblue;\r\n                transform: translateY(-2px);\r\n            }\r\n    \r\n            .form-floating > label {\r\n                color: #666;\r\n            }\r\n    \r\n            .form-control {\r\n                border-radius: 10px;\r\n            }\r\n    \r\n            .separator {\r\n                display: flex;\r\n                align-items: center;\r\n                text-align: center;\r\n                color: #666;\r\n            }\r\n    \r\n            .separator::before,\r\n            .separator::after {\r\n                content: '';\r\n                flex: 1;\r\n                border-bottom: 1px solid #666;\r\n            }\r\n    \r\n            .separator:not(:empty)::before {\r\n                margin-right: 1em;\r\n            }\r\n    \r\n            .separator:not(:empty)::after {\r\n                margin-left: 1em;\r\n            }\r\n    \r\n            @media (max-width: 768px) {\r\n                .equal-height-row {\r\n                    flex-direction: column;\r\n                    min-height: auto;\r\n                }\r\n                \r\n                .image-wrapper {\r\n                    height: 300px;\r\n                    margin-bottom: 20px;\r\n                }\r\n            }\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <div class=\"login-container\">\r\n            <div class=\"container py-5\">\r\n                <div class=\"equal-height-row justify-content-center\">\r\n                    <div class=\"col-md-6 col-lg-6 animate__animated animate__fadeInLeft equal-height-col\">\r\n                        <div class=\"image-wrapper\">\r\n                            <img src=\"../../uploads/freepik__upload__27110.jpeg\" alt=\"Luxury bed illustration\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6 col-lg-5 animate__animated animate__fadeInRight equal-height-col\">\r\n                        <div class=\"login-card\">\r\n                            <h2 class=\"text-center mb-4\">Welcome Back</h2>\r\n                            <form id=\"login-form\">\r\n                                <div class=\"form-floating mb-4\">\r\n                                    <input type=\"email\" class=\"form-control\" id=\"form1Example13\" name=\"email\" value=\"dps63660@gmail.com\" placeholder=\"Email address\">\r\n                                    <label for=\"form1Example13\">Email address</label>\r\n                                </div>\r\n    \r\n                                <div class=\"form-floating mb-4\">\r\n                                    <input type=\"password\" class=\"form-control\" id=\"form1Example23\" name=\"password\" value=\"Deepika@123\" placeholder=\"Password\">\r\n                                    <label for=\"form1Example23\">Password</label>\r\n                                    <button\r\n                                    type=\"button\"\r\n                                    id=\"toggle-password\"\r\n                                    class=\"btn  position-absolute\"\r\n                                    style=\"top: 50%; right: 10px; transform: translateY(-50%);background-color:#508d4e\"\r\n                                  >\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                  </button>\r\n                                </div>\r\n    \r\n                                <div class=\"d-flex justify-content-end mb-4\">\r\n                                    <a href=\"/forgotpassword\" class=\"text-decoration-none\">Forgot password?</a>\r\n                                </div>\r\n    \r\n                                <button type=\"submit\" class=\"btn btn-custom btn-lg w-100 mb-4 animate__animated animate__pulse\">\r\n                                    Login\r\n                                </button>\r\n    \r\n                                <div class=\"text-center mb-4\">\r\n                                    <p>Don't have an account? <a href=\"/signup\" class=\"text-decoration-none\">Sign up</a></p>\r\n                                </div>\r\n    \r\n                                <div class=\"separator mb-4\">OR</div>\r\n    \r\n                                <a class=\"btn btn-lg w-100 d-flex align-items-center justify-content-center gap-2\" style=\"background-color: #1A5319;color: aliceblue;\" id=\"google\" href=\"/auth/google\" role=\"button\">\r\n                                    <i class=\"fab fa-google\"></i>\r\n                                    Continue with Google\r\n                                </a>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n    </html>\r\n\r\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js\"></script>\r\n\r\n   \r\n    <script>\r\n        document.getElementById(\"login-form\").addEventListener(\"submit\", async function(e) {\r\n            e.preventDefault(); // Prevent default form submission\r\n\r\n            const email = document.querySelector(\"[name=email]\").value;\r\n            const password = document.querySelector(\"[name=password]\").value;\r\n\r\n            try {\r\n                const response = await fetch('/login', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({ email, password }),\r\n                });\r\n\r\n                const result = await response.json(); // Assuming your backend returns JSON response\r\n\r\n                if (response.ok) {\r\n                    // Successful login\r\n                    window.location.href = \"/login\"\r\n                } else {\r\n                    // Handle error from backend\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: result.message || 'Something went wrong!',\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Server Error',\r\n                    text: 'An error occurred. Please try again later.',\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n\r\n        //toggle password\r\n        const passwordInput = document.getElementById(\"form1Example23\");\r\n  const togglePasswordButton = document.getElementById(\"toggle-password\");\r\n  const toggleIcon = togglePasswordButton.querySelector(\"i\");\r\n\r\n  togglePasswordButton.addEventListener(\"click\", () => {\r\n    // Toggle password visibility\r\n    const isPasswordVisible = passwordInput.type === \"text\";\r\n    passwordInput.type = isPasswordVisible ? \"password\" : \"text\";\r\n\r\n    // Update the icon\r\n    toggleIcon.classList.toggle(\"fa-eye\", isPasswordVisible);\r\n    toggleIcon.classList.toggle(\"fa-eye-slash\", !isPasswordVisible);\r\n  });\r\n    </script>\r\n    \r\n\r\n\r\n  <%- include('footer') %>"
        }
    ]
}